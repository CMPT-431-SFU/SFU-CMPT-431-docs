



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Arrvindh Shriraman">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>SFU CMPT 431 tut3 c basics - SFU CMPT 431 Parallel and Distributed Systems</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#tutorial-3-compiling-and-running-c-programs" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="SFU CMPT 431 Parallel and Distributed Systems" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SFU CMPT 431 Parallel and Distributed Systems
            </span>
            <span class="md-header-nav__topic">
              
                SFU CMPT 431 tut3 c basics
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/SFU-CMPT-431/SFU-CMPT-431-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    SFU-CMPT-431/SFU-CMPT-431-docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../SFU-CMPT-431-T01-intro-c/" class="md-tabs__link">
          Topic Notes
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../SFU-CMPT-431-sec1-linux/" class="md-tabs__link">
          Section Notes
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="SFU CMPT 431 Parallel and Distributed Systems" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    SFU CMPT 431 Parallel and Distributed Systems
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/SFU-CMPT-431/SFU-CMPT-431-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    SFU-CMPT-431/SFU-CMPT-431-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Topic Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Topic Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SFU-CMPT-431-T01-intro-c/" title="Topic 1: Introduction to C" class="md-nav__link">
      Topic 1: Introduction to C
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Section Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Section Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SFU-CMPT-431-sec1-linux/" title="Section 1: Linux Development Environment" class="md-nav__link">
      Section 1: Linux Development Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SFU-CMPT-431-sec2-c-basics/" title="Section 2: Compiling and Running C Programs" class="md-nav__link">
      Section 2: Compiling and Running C Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SFU-CMPT-431-sec3-c-build-test/" title="Section 3: C Build and Test Frameworks" class="md-nav__link">
      Section 3: C Build and Test Frameworks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SFU-CMPT-431-sec4-c-test-debug/" title="Section 4: C Testing and Debugging" class="md-nav__link">
      Section 4: C Testing and Debugging
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-using-the-c-preprocessor" class="md-nav__link">
    1. Using the C Preprocessor
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-the-define-directive" class="md-nav__link">
    1.1. The #define Directive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-the-ifdef-directive" class="md-nav__link">
    1.2. The #ifdef Directive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-the-include-directive" class="md-nav__link">
    1.3. The #include Directive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-include-guards" class="md-nav__link">
    1.4. Include Guards
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-writing-a-single-file-c-program" class="md-nav__link">
    2. Writing a Single-File C Program
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-compiling-a-single-file-c-program" class="md-nav__link">
    3. Compiling a Single-File C Program
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-writing-a-multi-file-c-program" class="md-nav__link">
    4. Writing a Multi-File C Program
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-compiling-a-multi-file-c-program" class="md-nav__link">
    5. Compiling a Multi-File C Program
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/SFU-CMPT-431/SFU-CMPT-431-docs/edit/master/docs/SFU-CMPT-431-tut3-c-basics.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="tutorial-3-compiling-and-running-c-programs">Tutorial 3 : Compiling and Running C Programs<a class="headerlink" href="#tutorial-3-compiling-and-running-c-programs" title="Permanent link">&para;</a></h1>
<p>The first few programming assignments for this course will use the C
programming language. In lecture we use Compiler Explorer and Repl.it to
quickly experiment with small C programs, but eventually we need to
actually write and compile C programs on a real machine. This tutorial
discusses how we can use the open-source GNU C compiler (<code>gcc</code>) to
compile our C programs on the \TT{ecelinux} machines. We will experiment
with both single-file C programs (simple but not representative of real C
projects) and multi-file programs (more complex but also more realistic).
In this tutorial, we will be running \TT{gcc} directly from the command
line so we can understand each step. In the next tutorial, we will see
how we can use various tools to automate this process. All of the tools
are installed and available on the <code>ecelinux</code> machines. This tutorial
assumes that students have completed the tutorial on Linux and Git. We
strongly recommend students also read Chapters 1-6 in the course text
book, <em>``All of Programming,''</em> by A. Hilton and A. Bracy (2015).
Chapters 5-6 are particularly relevant since they discuss the general
process of compiling, testing, and debugging C programs.</p>
<p>To follow along with the tutorial, access the course computing resources,
and type the commands without the <code>%</code> character (for the <code>bash</code> prompt).
In addition to working through the commands in the tutorial, you should
also try the more open-ended tasks marked <em>To-Do On Your Own</em>. Before you
begin, make sure that you have <strong>sourced the setup-SFU-CMPT-431.sh script</strong> or
that you have added it to your <code>.bashrc</code> script, which will then source
the script every time you login. Sourcing the setup script sets up the
environment required for this class.</p>
<p>You should start by forking the tutorial repository on GitHub. Go to the
GitHub page for the tutorial repository located here:
<a href="https://github.com/cornell-SFU-CMPT-431/ece2400-tut2-c-basics">https://github.com/cornell-SFU-CMPT-431/ece2400-tut2-c-basics</a>. Click on
<em>Fork</em> in the upper right-hand corner. If asked where to fork this
repository, choose your personal GitHub account. After a few seconds, you
should have a new repository in your account:
<code>https://github.com/githubid/SFU-CMPT-431-tut2-c-basics</code> Where <code>githubid</code> is
your GitHub username on <a href="">github.com</a>. Now access an <code>ecelinux</code> machine
and clone your copy of the tutorial repository as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>% <span class="nb">source</span> setup-SFU-CMPT-431.sh
% mkdir -p <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/SFU-CMPT-431
% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/SFU-CMPT-431
% git clone https://github.com/githubid/SFU-CMPT-431-tut3-c-basics.git tut3
% <span class="nb">cd</span> tut3
% <span class="nv">TUTROOT</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>
</pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It should be possible to experiment with this tutorial even if you
are not enrolled in the course and/or do not have access to the
course computing resources. All of the code for the tutorial is
located on GitHub. You will not use the <code>setup-SFU-CMPT-431.sh</code> script,
and your specific environment may be different from what is assumed
in this tutorial.</p>
</div>
<h2 id="1-using-the-c-preprocessor">1. Using the C Preprocessor<a class="headerlink" href="#1-using-the-c-preprocessor" title="Permanent link">&para;</a></h2>
<p>Before we can understand how to write and compile C programs, we need to
understand the C preprocessor. The preprocessor takes an input C source
file, preprocesses it, and generates the preprocessed version of the C
source file. It is important to realize that the C preprocesor is not
really part of the C programming language. The C preprocessor simply
manipulates the text in the C source files and knows nothing about the C
programming language's syntax or semantics. The C preprocessor is
powerful but also very easy to abuse. Using the C preprocessor can cause
subtle bugs and is usually not necessary. Unfortunately, there are a few
cases where we have no choice but to use the C preprocessor, so we must
learn at least the basics. You can find out more about the C preprocessor
here:</p>
<ul>
<li><a href="http://en.cppreference.com/w/c/preprocessor">http://en.cppreference.com/w/c/preprocessor</a></li>
<li><a href="https://en.wikibooks.org/wiki/C_Programming/Preprocessor">https://en.wikibooks.org/wiki/C_Programming/Preprocessor</a></li>
</ul>
<h3 id="11-the-define-directive">1.1. The <code>#define</code> Directive<a class="headerlink" href="#11-the-define-directive" title="Permanent link">&para;</a></h3>
<p>The best way to understand the C preprocessor is actually to use it to
preprocess standard text files as opposed to C source files. Assume we
are writing a report on the history of Cornell University, and we
have a common snippet of text that we use often in our text file.</p>
<ul>
<li>text with many of same code</li>
<li>define that</li>
<li>mention ALL_CAPS</li>
<li>define with argument</li>
</ul>
<p>try to avoid this -- will see it in our test macros</p>
<h3 id="12-the-ifdef-directive">1.2. The <code>#ifdef</code> Directive<a class="headerlink" href="#12-the-ifdef-directive" title="Permanent link">&para;</a></h3>
<h3 id="13-the-include-directive">1.3. The <code>#include</code> Directive<a class="headerlink" href="#13-the-include-directive" title="Permanent link">&para;</a></h3>
<p>The best way to understand the C preprocessor is actually to use it to
preprocess standard text files as opposed to C source files. Assume we
wish to create a text file which lists pioneering women and men in the
field of computer science. We might start with a text file of pioneering
women:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>==========================================================================
Pioneers in Computer Science
==========================================================================
Computer science is a relatively recent field which focuses on the
theory, experimentation, and engineering that form the basis for the
design and use of computers. Here is a very small subset of the many
individuals who helped in the creation, development, and imagining of
what computers and electronics could do.

 - Eva Tardos        : fundamental contributions to algorithm analysis
 - Mary Jane Irwin   : early work on design automation and computer arch
 - Barbara Liskov    : fundamental contributions to obj-oriented progr
 - Frances Allen     : pioneer in optimizing compilers
 - Grace Hopper      : pioneer in computer prog and high-level languages
 - Jean Bartik       : one of the first computer programmers
 - Ada Lovelace      : began the study of scientific computation
</pre></div>
</td></tr></table>

<p>and a separate text file of pioneering men:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>==========================================================================
Pioneers in Computer Science
==========================================================================
Computer science is a relatively recent field which focuses on the
theory, experimentation, and engineering that form the basis for the
design and use of computers. Here is a very small subset of the many
individuals who helped in the creation, development, and imagining of
what computers and electronics could do.

 - Donald Knuth      : fundamental contributions to algorithm analysis
 - John Mauchly      : designed and built first modern computer
 - J. Presper Eckert : designed and built first modern computer
 - John Von Neumann  : formulated the von Neumann architecture
 - Maurice Wilkes    : built first practical stored program computer
 - Alan Turing       : invented Turning model, stored program concept
 - Charles Babbage   : originated concept of programmable computer
</pre></div>
</td></tr></table>

<p>These two files require some duplication, since both files include a
short introductory paragraph. To avoid this redundancy, we can first
refactor this introductory paragraph into its own dedicated text file,
and we can then use the C processor to <em>include</em> this file at the
beginning of each list of pioneers. This new approach is illustrated
below. First, we have a file named <code>cs-pioneers-intro.txt</code> with the
introductory paragraph.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>==========================================================================
Pioneers in Computer Science
==========================================================================
Computer science is a relatively recent field which focuses on the
theory, experimentation, and engineering that form the basis for the
design and use of computers. Here is a very small subset of the many
individuals who helped in the creation, development, and imagining of
what computers and electronics could do.
</pre></div>
</td></tr></table>

<p>Then, we have a file named <code>cs-pioneers-women-in.txt</code> containing a list
of pioneering women in computer science:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>#include &quot;cs-pioneers-intro.txt&quot;

 - Eva Tardos        : fundamental contributions to algorithm analysis
 - Mary Jane Irwin   : early work on design automation and computer arch
 - Barbara Liskov    : fundamental contributions to obj-oriented progr
 - Frances Allen     : pioneer in optimizing compilers
 - Grace Hopper      : pioneer in computer prog and high-level languages
 - Jean Bartik       : one of the first computer programmers
 - Ada Lovelace      : began the study of scientific computation
</pre></div>
</td></tr></table>

<p>Finally, we have a file named <code>cs-pioneers-men-in.txt</code> containing a list
of pioneering men in computer science:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>#include &quot;cs-pioneers-intro.txt&quot;

 - Donald Knuth      : fundamental contributions to algorithm analysis
 - John Mauchly      : designed and built first modern computer
 - J. Presper Eckert : designed and built first modern computer
 - John Von Neumann  : formulated the von Neumann architecture
 - Maurice Wilkes    : built first practical stored program computer
 - Alan Turing       : invented Turning model, stored program concept
 - Charles Babbage   : originated concept of programmable computer
</pre></div>
</td></tr></table>

<p>We can then use the C preprocessor to <em>preprocess</em> these files. The C
preprocessor copies the input source file to the output source file,
while also looking for <em>C preprocessor directives</em>. All C preprocessor
directives begin with the special <code>#</code> character. Line 1 in
<code>cs-pioneers-women-in.txt</code> and <code>cs-pioneers-men-in.txt</code> uses the
<code>#include</code> directive which specifies the file name of a different text
file to include. The file name should be be specified using double quotes
(<code>""</code>).</p>
<p>You should have already cloned the tutorial repository and set the
<code>TUTROOT</code> environment variable at the beginning of this tutorial. Let's
make a new directory to work in for this section:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>% mkdir <span class="si">${</span><span class="nv">TUTROOT</span><span class="si">}</span>/tut3-cpp
% <span class="nb">cd</span> <span class="si">${</span><span class="nv">TUTROOT</span><span class="si">}</span>/tut3-cpp
</pre></div>
</td></tr></table>

<p>Now create the three text files mentioned above: <code>cs-pioneers-intro.txt</code>,
<code>cs-pioneers-women-in.txt</code>, and <code>cs-pioneers-men-in.txt</code> using Geany or
the text editor of your choice. See the first tutorial for more on using
Geany or other text editors. The three files should be in the <code>tut3-cpp</code>
subdirectory. All text files have a <code>.txt</code> filename extension. In
general, we prefer using dashes (<code>-</code>) instead of underscores to separate
words in file names.</p>
<p>Let's use the C preprocessor (<code>cpp</code>) to preprocess the <code>-in.txt</code> files
into two final text files that contain both the introductory paragraph
and the list of pionners in computer science.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">TUTROOT</span><span class="si">}</span>/tut3-cpp
% cpp -o cs-pioneers-women.txt cs-pioneers-women-in.txt
% cat cs-pioneers-women.txt
% cpp -o cs-pioneers-men.txt cs-pioneers-men-in.txt
% cat cs-pioneers-men.txt
</pre></div>
</td></tr></table>

<p>The <code>-o</code> command line option is used to specify the name of the output
file. The outpfile <code>cs-pioneers-women.txt</code> should look like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span># 1 &quot;cs-pioneers-women-in.txt&quot;
# 1 &quot;&lt;built-in&gt;&quot;
# 1 &quot;&lt;command-line&gt;&quot;
# 1 &quot;cs-pioneers-women-in.txt&quot;
# 1 &quot;cs-pioneers-intro.txt&quot; 1


==========================================================================
Pioneers in Computer Science
==========================================================================
Computer science is a relatively recent field which focuses on the
theory, experimentation, and engineering that form the basis for the
design and use of computers. Here is a very small subset of the many
individuals who helped in the creation, development, and imagining of
what computers and electronics could do.
# 2 &quot;cs-pioneers-women-in.txt&quot; 2
 - Eva Tardos : fundamental contributions to algorithm analysis
 - Mary Jane Irwin : early work on design automation and computer arch
 - Barbara Liskov : fundamental contributions to obj-oriented progr
 - Frances Allen : pioneer in optimizing compilers
 - Grace Hopper : pioneer in computer prog and high-level languages
 - Jean Bartik : one of the first computer programmers
 - Ada Lovelace : began the study of scientific computation
</pre></div>
</td></tr></table>

<p>The C preprocessor included the introductory paragraph correctly, but it
has also included some additional lines beginning with the <code>#</code> character
to specify information about where all of the pieces of text originally
came from. For example, Line 5 indicates that the introductory paragraph
came from the <code>cs-pioneers-intro.txt</code> file. We can tell the <code>cpp</code> to not
include this extra metadata with the <code>-P</code> command line option.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">TUTROOT</span><span class="si">}</span>/tut3-cpp
% cpp -P -o cs-pioneers-women.txt cs-pioneers-women-in.txt
% cat cs-pioneers-women.txt
% cpp -P -o cs-pioneers-men.txt cs-pioneers-men-in.txt
% cat cs-pioneers-men.txt
</pre></div>
</td></tr></table>

<p>This example illustrates the first way we will use the C preprocessor. We
will use the <code>#include</code> directive to include common C source files in
several of our own C source files. This approach avoids redundancy and
makes our programs much easier to maintain since we can make changes in a
single C source file, and those changes can be immediately reflected in
any program which includes that C source file. We have actually already
seen this use of the C preprocessor in the previous section when we
included the \TT{stdio.h} header file which includes the declaration of
the \TT{printf} function (see Line~1 in
Figure~\ref{fig-tut3-code-avg-main}). If the file in an \verb|#include|
directive is specified using angle brackets (\TT{&lt;&gt;}) then this tells the
C preprocessor that the file to include is part of the system and is
installed in a default location. If the given file is specified using
double quotes (\TT{""}), then this tells the C preprocessor that the file
to be included is part of the user program. The C preprocessor does not
automatically know where to find extra user files, so we might need to
add extra command line options to \TT{cpp} to tell the C preprocessor
where to search for files.</p>
<h3 id="14-include-guards">1.4. Include Guards<a class="headerlink" href="#14-include-guards" title="Permanent link">&para;</a></h3>
<h2 id="2-writing-a-single-file-c-program">2. Writing a Single-File C Program<a class="headerlink" href="#2-writing-a-single-file-c-program" title="Permanent link">&para;</a></h2>
<h2 id="3-compiling-a-single-file-c-program">3. Compiling a Single-File C Program<a class="headerlink" href="#3-compiling-a-single-file-c-program" title="Permanent link">&para;</a></h2>
<h2 id="4-writing-a-multi-file-c-program">4. Writing a Multi-File C Program<a class="headerlink" href="#4-writing-a-multi-file-c-program" title="Permanent link">&para;</a></h2>
<h2 id="5-compiling-a-multi-file-c-program">5. Compiling a Multi-File C Program<a class="headerlink" href="#5-compiling-a-multi-file-c-program" title="Permanent link">&para;</a></h2>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright for original site &copy; 2018 Christopher Batten
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../js/extras.js"></script>
      
    
  </body>
</html>